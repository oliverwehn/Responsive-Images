/*! Copyright (c) 2013 Oliver Wehn (http://www.oliverwehn.com)
  Licensed under MIT, GPL
 
  Version: 0.2.0
  
  Requires jQuery framework
 */;(function(e,t,n,r){var i="responsiveImages",s={respondToResize:false,respondToUpscaleOnly:true,useParentWidth:true,resolutionInterval:50};e.responsiveImages=function(t,n){this.elements=t;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init(n)};e.responsiveImages.prototype.init=function(){this.updatePaths();if(this.options.respondToResize){var n=null;var r=this;e(t).on("resize orientationchange",function(){if(n!=null){t.clearTimeout(n)}n=t.setTimeout(function(){r.updatePaths()},100)})}};e.responsiveImages.prototype.updatePaths=function(){var n=this;var i=n.options;var s=t.devicePixelRatio||1;if(typeof t.orientation!=r){swidth=Math.ceil((t.orientation==90||t.orientation==-90?screen.height:screen.width)/i.resolutionInterval)*i.resolutionInterval}else{swidth=Math.ceil(screen.width/i.resolutionInterval)*i.resolutionInterval}e(n.elements).filter("img").each(function(t,o){var u=e(o);var a=Math.ceil(u.parent().width()/i.resolutionInterval)*i.resolutionInterval;if(a<u.width()){a=Math.ceil(u.width()/i.resolutionInterval)*i.resolutionInterval}var f="";if(!(f=u.data("src"))){f=u.attr("src");u.data("src",f)}var l=u.data("width")||null;if(l==null||l!=null&&(a>0&&i.useParentWidth&&a>l||(a==0||!i.useParentWidth)&&swidth>l)){var c=n.getHash(swidth+"."+a+"."+s);var h=new Image;e(h).load(function(){var t=0;if(typeof this.naturalWidth!=r){t=this.naturalWidth}else{t=this.width}t=t/s;u.attr("src",e(this).attr("src")).data("width",t)}).attr("src",f.replace(/(\.[a-z]+)$/,"."+c+"$1")+"?swidth="+swidth+(a>0&&i.useParentWidth?"&pwidth="+a:"")+"&pxratio="+s)}})};e.responsiveImages.prototype.getHash=function(e){var t=0,n,r;if(e.length==0)return t;for(n=0;n<e.length;n++){r=e.charCodeAt(n);t=(t<<5)-t+r;t=t&t}if(t<0)t=t*-1;return t.toString(16)};e.fn[i]=function(t,n){var r=e.data(this,"plugin_"+i);if(!r){e.data(this,"plugin_"+i,new e.responsiveImages(this,t,n))}return this}})(jQuery,window,document);